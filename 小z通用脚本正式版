-- å°zé€šç”¨è„šæœ¬ æ­£å¼ç‰ˆ (WindUIç‰ˆæœ¬)
-- åŸºäºå°zé£è½¦æ§åˆ¶v2.8å®Œæ•´è¿ç§»
-- æ‰€æœ‰é€šçŸ¥ä½¿ç”¨å›¾ç‰‡ID: 84648939157347
-- é£è¡Œç³»ç»Ÿï¼šå°zé£è¡Œè„šæœ¬ V3

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local ContextActionService = game:GetService("ContextActionService")
local StarterGui = game:GetService("StarterGui")
local TweenService = game:GetService("TweenService")

-- åˆå§‹åŒ–WindUI
local WindUI = loadstring(game:HttpGet("https://raw.githubusercontent.com/Footagesus/WindUI/main/dist/main.lua"))()

WindUI.TransparencyValue = 0.2
WindUI:SetTheme("Dark")

-- æ¸¸æˆå˜é‡
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")

-- ç§»åŠ¨æ§åˆ¶å˜é‡
local moveSpeed = 50
local walkSpeed = 16
local jumpPower = 50

-- ç©¿å¢™æ¨¡å¼å˜é‡
local noClipEnabled = false

-- ä½¿ç”¨æ¸¸æˆè‡ªå¸¦é€šçŸ¥ç³»ç»Ÿæ˜¾ç¤ºæ¬¢è¿å¼¹çª—
local function showGameNotification()
    task.wait(2) -- ç­‰å¾…æ¸¸æˆå®Œå…¨åŠ è½½
    
    -- æ–¹æ³•1: ä½¿ç”¨RobloxåŸç”Ÿé€šçŸ¥ç³»ç»Ÿ
    local success = pcall(function()
        StarterGui:SetCore("SendNotification", {
            Title = "å°zé€šç”¨è„šæœ¬ æ­£å¼ç‰ˆ",
            Text = "æ¬¢è¿ä½¿ç”¨å°zé€šç”¨è„šæœ¬æ­£å¼ç‰ˆ\nå·²æˆåŠŸæ³¨å…¥ï¼",
            Duration = 8,
            Icon = "rbxassetid://84648939157347" -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
        })
    end)
    
    -- æ–¹æ³•2: å¤‡ç”¨æ–¹æ¡ˆ - ä½¿ç”¨èŠå¤©ç³»ç»Ÿé€šçŸ¥
    if not success then
        task.wait(1)
        StarterGui:SetCore("ChatMakeSystemMessage", {
            Text = "[ç³»ç»Ÿ] æ¬¢è¿ä½¿ç”¨å°zé€šç”¨è„šæœ¬æ­£å¼ç‰ˆï¼",
            Color = Color3.fromRGB(0, 170, 255),
            Font = Enum.Font.GothamBold,
            TextSize = 18
        })
    end
    
    -- æ–¹æ³•3: é¢å¤–çš„æç¤ºä¿¡æ¯
    task.wait(3)
    StarterGui:SetCore("SendNotification", {
        Title = "åŠŸèƒ½æç¤º",
        Text = "æŒ‰å³Ctrlé”®æ˜¾ç¤º/éšè—æ§åˆ¶é¢æ¿\næŒ‰Né”®åˆ‡æ¢ç©¿å¢™æ¨¡å¼",
        Duration = 6,
        Icon = "rbxassetid://84648939157347" -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
    })
end

-- æ˜¾ç¤ºæ¸¸æˆé€šçŸ¥
task.spawn(showGameNotification)

-- åˆ›å»ºå°zé£è¡Œè„šæœ¬
local function createXzFlightScript()
    local main = Instance.new("ScreenGui")
    local Frame = Instance.new("Frame")
    local up = Instance.new("TextButton")
    local down = Instance.new("TextButton")
    local onof = Instance.new("TextButton")
    local TextLabel = Instance.new("TextLabel")
    local plus = Instance.new("TextButton")
    local speed = Instance.new("TextLabel")
    local mine = Instance.new("TextButton")
    local closebutton = Instance.new("TextButton")
    local mini = Instance.new("TextButton")
    local mini2 = Instance.new("TextButton")

    main.Name = "å°zé£è¡Œè„šæœ¬"
    main.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
    main.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    main.ResetOnSpawn = false

    Frame.Parent = main
    Frame.BackgroundColor3 = Color3.fromRGB(163, 255, 137)
    Frame.BorderColor3 = Color3.fromRGB(103, 221, 213)
    Frame.Position = UDim2.new(0.100320168, 0, 0.379746825, 0)
    Frame.Size = UDim2.new(0, 190, 0, 57)

    up.Name = "up"
    up.Parent = Frame
    up.BackgroundColor3 = Color3.fromRGB(79, 255, 152)
    up.Size = UDim2.new(0, 44, 0, 28)
    up.Font = Enum.Font.SourceSans
    up.Text = "ä¸Šå‡"
    up.TextColor3 = Color3.fromRGB(0, 0, 0)
    up.TextSize = 14.000

    down.Name = "down"
    down.Parent = Frame
    down.BackgroundColor3 = Color3.fromRGB(215, 255, 121)
    down.Position = UDim2.new(0, 0, 0.491228074, 0)
    down.Size = UDim2.new(0, 44, 0, 28)
    down.Font = Enum.Font.SourceSans
    down.Text = "ä¸‹é™"
    down.TextColor3 = Color3.fromRGB(0, 0, 0)
    down.TextSize = 14.000

    onof.Name = "onof"
    onof.Parent = Frame
    onof.BackgroundColor3 = Color3.fromRGB(255, 249, 74)
    onof.Position = UDim2.new(0.702823281, 0, 0.491228074, 0)
    onof.Size = UDim2.new(0, 56, 0, 28)
    onof.Font = Enum.Font.SourceSans
    onof.Text = "é£è¡Œ"
    onof.TextColor3 = Color3.fromRGB(0, 0, 0)
    onof.TextSize = 14.000

    TextLabel.Parent = Frame
    TextLabel.BackgroundColor3 = Color3.fromRGB(242, 60, 255)
    TextLabel.Position = UDim2.new(0.469327301, 0, 0, 0)
    TextLabel.Size = UDim2.new(0, 100, 0, 28)
    TextLabel.Font = Enum.Font.SourceSans
    TextLabel.Text = "å°zé£è¡Œè„šæœ¬ V3"
    TextLabel.TextColor3 = Color3.fromRGB(0, 0, 0)
    TextLabel.TextScaled = true
    TextLabel.TextSize = 14.000
    TextLabel.TextWrapped = true

    plus.Name = "plus"
    plus.Parent = Frame
    plus.BackgroundColor3 = Color3.fromRGB(133, 145, 255)
    plus.Position = UDim2.new(0.231578946, 0, 0, 0)
    plus.Size = UDim2.new(0, 45, 0, 28)
    plus.Font = Enum.Font.SourceSans
    plus.Text = "+"
    plus.TextColor3 = Color3.fromRGB(0, 0, 0)
    plus.TextScaled = true
    plus.TextSize = 14.000
    plus.TextWrapped = true

    speed.Name = "speed"
    speed.Parent = Frame
    speed.BackgroundColor3 = Color3.fromRGB(255, 85, 0)
    speed.Position = UDim2.new(0.468421042, 0, 0.491228074, 0)
    speed.Size = UDim2.new(0, 44, 0, 28)
    speed.Font = Enum.Font.SourceSans
    speed.Text = "1"
    speed.TextColor3 = Color3.fromRGB(0, 0, 0)
    speed.TextScaled = true
    speed.TextSize = 14.000
    speed.TextWrapped = true

    mine.Name = "mine"
    mine.Parent = Frame
    mine.BackgroundColor3 = Color3.fromRGB(123, 255, 247)
    mine.Position = UDim2.new(0.231578946, 0, 0.491228074, 0)
    mine.Size = UDim2.new(0, 45, 0, 29)
    mine.Font = Enum.Font.SourceSans
    mine.Text = "-"
    mine.TextColor3 = Color3.fromRGB(0, 0, 0)
    mine.TextScaled = true
    mine.TextSize = 14.000
    mine.TextWrapped = true

    closebutton.Name = "Close"
    closebutton.Parent = main.Frame
    closebutton.BackgroundColor3 = Color3.fromRGB(225, 25, 0)
    closebutton.Font = "SourceSans"
    closebutton.Size = UDim2.new(0, 45, 0, 28)
    closebutton.Text = "X"
    closebutton.TextSize = 30
    closebutton.Position =  UDim2.new(0, 0, -1, 27)

    mini.Name = "minimize"
    mini.Parent = main.Frame
    mini.BackgroundColor3 = Color3.fromRGB(192, 150, 230)
    mini.Font = "SourceSans"
    mini.Size = UDim2.new(0, 45, 0, 28)
    mini.Text = "T"
    mini.TextSize = 30
    mini.Position = UDim2.new(0, 44, -1, 27)

    mini2.Name = "minimize2"
    mini2.Parent = main.Frame
    mini2.BackgroundColor3 = Color3.fromRGB(192, 150, 230)
    mini2.Font = "SourceSans"
    mini2.Size = UDim2.new(0, 45, 0, 28)
    mini2.Text = "T"
    mini2.TextSize = 30
    mini2.Position = UDim2.new(0, 44, -1, 57)
    mini2.Visible = false

    local speeds = 1

    local speaker = game:GetService("Players").LocalPlayer

    local chr = game.Players.LocalPlayer.Character
    local hum = chr and chr:FindFirstChildWhichIsA("Humanoid")

    local nowe = false

    -- ä¿®æ”¹è¿™é‡Œçš„å¼¹çª—å†…å®¹
    game:GetService("StarterGui"):SetCore("SendNotification", { 
        Title = "å°zé£è¡Œè„šæœ¬ V3";
        Text = "é£è¡Œè„šæœ¬å·²å°±ç»ª";  -- ä¿®æ”¹ä¸º"é£è¡Œè„šæœ¬å·²å°±ç»ª"
        Icon = "rbxthumb://type=Asset&id=84648939157347&w=150&h=150"})  -- ä¿®æ”¹å›¾æ ‡IDä¸º84648939157347
    Duration = 5;

    Frame.Active = true
    Frame.Draggable = true

    -- é£è¡ŒåŠŸèƒ½
    onof.MouseButton1Down:connect(function()
        if nowe == true then
            nowe = false
            -- æ¢å¤æ‰€æœ‰çŠ¶æ€
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Climbing,true)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.FallingDown,true)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Flying,true)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Freefall,true)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.GettingUp,true)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Jumping,true)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Landed,true)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Physics,true)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.PlatformStanding,true)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Ragdoll,true)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Running,true)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.RunningNoPhysics,true)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Seated,true)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.StrafingNoPhysics,true)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Swimming,true)
            speaker.Character.Humanoid:ChangeState(Enum.HumanoidStateType.RunningNoPhysics)
        else 
            nowe = true
            -- å¯ç”¨é£è¡Œ
            for i = 1, speeds do
                spawn(function()
                    local hb = game:GetService("RunService").Heartbeat	
                    tpwalking = true
                    local chr = game.Players.LocalPlayer.Character
                    local hum = chr and chr:FindFirstChildWhichIsA("Humanoid")
                    while tpwalking and hb:Wait() and chr and hum and hum.Parent do
                        if hum.MoveDirection.Magnitude > 0 then
                            chr:TranslateBy(hum.MoveDirection)
                        end
                    end
                end)
            end
            
            game.Players.LocalPlayer.Character.Animate.Disabled = true
            local Char = game.Players.LocalPlayer.Character
            local Hum = Char:FindFirstChildOfClass("Humanoid") or Char:FindFirstChildOfClass("AnimationController")

            for i,v in next, Hum:GetPlayingAnimationTracks() do
                v:AdjustSpeed(0)
            end
            
            -- ç¦ç”¨æ‰€æœ‰çŠ¶æ€
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Climbing,false)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.FallingDown,false)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Flying,false)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Freefall,false)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.GettingUp,false)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Jumping,false)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Landed,false)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Physics,false)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.PlatformStanding,false)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Ragdoll,false)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Running,false)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.RunningNoPhysics,false)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Seated,false)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.StrafingNoPhysics,false)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Swimming,false)
            speaker.Character.Humanoid:ChangeState(Enum.HumanoidStateType.Swimming)
        end

        -- R6è§’è‰²å¤„ç†
        if game:GetService("Players").LocalPlayer.Character:FindFirstChildOfClass("Humanoid").RigType == Enum.HumanoidRigType.R6 then
            local plr = game.Players.LocalPlayer
            local torso = plr.Character.Torso
            local deb = true
            local ctrl = {f = 0, b = 0, l = 0, r = 0}
            local lastctrl = {f = 0, b = 0, l = 0, r = 0}
            local maxspeed = 50
            local speed = 0

            local bg = Instance.new("BodyGyro", torso)
            bg.P = 9e4
            bg.maxTorque = Vector3.new(9e9, 9e9, 9e9)
            bg.cframe = torso.CFrame
            local bv = Instance.new("BodyVelocity", torso)
            bv.velocity = Vector3.new(0,0.1,0)
            bv.maxForce = Vector3.new(9e9, 9e9, 9e9)
            
            if nowe == true then
                plr.Character.Humanoid.PlatformStand = true
            end
            
            while nowe == true or game:GetService("Players").LocalPlayer.Character.Humanoid.Health == 0 do
                game:GetService("RunService").RenderStepped:Wait()

                if ctrl.l + ctrl.r ~= 0 or ctrl.f + ctrl.b ~= 0 then
                    speed = speed+.5+(speed/maxspeed)
                    if speed > maxspeed then
                        speed = maxspeed
                    end
                elseif not (ctrl.l + ctrl.r ~= 0 or ctrl.f + ctrl.b ~= 0) and speed ~= 0 then
                    speed = speed-1
                    if speed < 0 then
                        speed = 0
                    end
                end
                
                if (ctrl.l + ctrl.r) ~= 0 or (ctrl.f + ctrl.b) ~= 0 then
                    bv.velocity = ((game.Workspace.CurrentCamera.CoordinateFrame.lookVector * (ctrl.f+ctrl.b)) + ((game.Workspace.CurrentCamera.CoordinateFrame * CFrame.new(ctrl.l+ctrl.r,(ctrl.f+ctrl.b)*.2,0).p) - game.Workspace.CurrentCamera.CoordinateFrame.p))*speed
                    lastctrl = {f = ctrl.f, b = ctrl.b, l = ctrl.l, r = ctrl.r}
                elseif (ctrl.l + ctrl.r) == 0 and (ctrl.f + ctrl.b) == 0 and speed ~= 0 then
                    bv.velocity = ((game.Workspace.CurrentCamera.CoordinateFrame.lookVector * (lastctrl.f+lastctrl.b)) + ((game.Workspace.CurrentCamera.CoordinateFrame * CFrame.new(lastctrl.l+lastctrl.r,(lastctrl.f+lastctrl.b)*.2,0).p) - game.Workspace.CurrentCamera.CoordinateFrame.p))*speed
                else
                    bv.velocity = Vector3.new(0,0,0)
                end
                
                bg.cframe = game.Workspace.CurrentCamera.CoordinateFrame * CFrame.Angles(-math.rad((ctrl.f+ctrl.b)*50*speed/maxspeed),0,0)
            end
            
            ctrl = {f = 0, b = 0, l = 0, r = 0}
            lastctrl = {f = 0, b = 0, l = 0, r = 0}
            speed = 0
            bg:Destroy()
            bv:Destroy()
            plr.Character.Humanoid.PlatformStand = false
            game.Players.LocalPlayer.Character.Animate.Disabled = false
            tpwalking = false
        else
            -- R15è§’è‰²å¤„ç†
            local plr = game.Players.LocalPlayer
            local UpperTorso = plr.Character.UpperTorso
            local ctrl = {f = 0, b = 0, l = 0, r = 0}
            local lastctrl = {f = 0, b = 0, l = 0, r = 0}
            local maxspeed = 50
            local speed = 0

            local bg = Instance.new("BodyGyro", UpperTorso)
            bg.P = 9e4
            bg.maxTorque = Vector3.new(9e9, 9e9, 9e9)
            bg.cframe = UpperTorso.CFrame
            local bv = Instance.new("BodyVelocity", UpperTorso)
            bv.velocity = Vector3.new(0,0.1,0)
            bv.maxForce = Vector3.new(9e9, 9e9, 9e9)
            
            if nowe == true then
                plr.Character.Humanoid.PlatformStand = true
            end
            
            while nowe == true or game:GetService("Players").LocalPlayer.Character.Humanoid.Health == 0 do
                wait()

                if ctrl.l + ctrl.r ~= 0 or ctrl.f + ctrl.b ~= 0 then
                    speed = speed+.5+(speed/maxspeed)
                    if speed > maxspeed then
                        speed = maxspeed
                    end
                elseif not (ctrl.l + ctrl.r ~= 0 or ctrl.f + ctrl.b ~= 0) and speed ~= 0 then
                    speed = speed-1
                    if speed < 0 then
                        speed = 0
                    end
                end
                
                if (ctrl.l + ctrl.r) ~= 0 or (ctrl.f + ctrl.b) ~= 0 then
                    bv.velocity = ((game.Workspace.CurrentCamera.CoordinateFrame.lookVector * (ctrl.f+ctrl.b)) + ((game.Workspace.CurrentCamera.CoordinateFrame * CFrame.new(ctrl.l+ctrl.r,(ctrl.f+ctrl.b)*.2,0).p) - game.Workspace.CurrentCamera.CoordinateFrame.p))*speed
                    lastctrl = {f = ctrl.f, b = ctrl.b, l = ctrl.l, r = ctrl.r}
                elseif (ctrl.l + ctrl.r) == 0 and (ctrl.f + ctrl.b) == 0 and speed ~= 0 then
                    bv.velocity = ((game.Workspace.CurrentCamera.CoordinateFrame.lookVector * (lastctrl.f+lastctrl.b)) + ((game.Workspace.CurrentCamera.CoordinateFrame * CFrame.new(lastctrl.l+lastctrl.r,(lastctrl.f+lastctrl.b)*.2,0).p) - game.Workspace.CurrentCamera.CoordinateFrame.p))*speed
                else
                    bv.velocity = Vector3.new(0,0,0)
                end

                bg.cframe = game.Workspace.CurrentCamera.CoordinateFrame * CFrame.Angles(-math.rad((ctrl.f+ctrl.b)*50*speed/maxspeed),0,0)
            end
            
            ctrl = {f = 0, b = 0, l = 0, r = 0}
            lastctrl = {f = 0, b = 0, l = 0, r = 0}
            speed = 0
            bg:Destroy()
            bv:Destroy()
            plr.Character.Humanoid.PlatformStand = false
            game.Players.LocalPlayer.Character.Animate.Disabled = false
            tpwalking = false
        end
    end)

    -- ä¸Šå‡åŠŸèƒ½
    local tis
    up.MouseButton1Down:connect(function()
        tis = up.MouseEnter:connect(function()
            while tis do
                wait()
                game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame * CFrame.new(0,1,0)
            end
        end)
    end)

    up.MouseLeave:connect(function()
        if tis then
            tis:Disconnect()
            tis = nil
        end
    end)

    -- ä¸‹é™åŠŸèƒ½
    local dis
    down.MouseButton1Down:connect(function()
        dis = down.MouseEnter:connect(function()
            while dis do
                wait()
                game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame * CFrame.new(0,-1,0)
            end
        end)
    end)

    down.MouseLeave:connect(function()
        if dis then
            dis:Disconnect()
            dis = nil
        end
    end)

    -- è§’è‰²é‡ç”Ÿå¤„ç†
    game:GetService("Players").LocalPlayer.CharacterAdded:Connect(function(char)
        wait(0.7)
        game.Players.LocalPlayer.Character.Humanoid.PlatformStand = false
        game.Players.LocalPlayer.Character.Animate.Disabled = false
    end)

    -- å¢åŠ é€Ÿåº¦
    plus.MouseButton1Down:connect(function()
        speeds = speeds + 1
        speed.Text = speeds
        if nowe == true then
            tpwalking = false
            for i = 1, speeds do
                spawn(function()
                    local hb = game:GetService("RunService").Heartbeat	
                    tpwalking = true
                    local chr = game.Players.LocalPlayer.Character
                    local hum = chr and chr:FindFirstChildWhichIsA("Humanoid")
                    while tpwalking and hb:Wait() and chr and hum and hum.Parent do
                        if hum.MoveDirection.Magnitude > 0 then
                            chr:TranslateBy(hum.MoveDirection)
                        end
                    end
                end)
            end
        end
    end)

    -- å‡å°‘é€Ÿåº¦
    mine.MouseButton1Down:connect(function()
        if speeds == 1 then
            speed.Text = 'æœ€å°é€Ÿåº¦'
            wait(1)
            speed.Text = speeds
        else
            speeds = speeds - 1
            speed.Text = speeds
            if nowe == true then
                tpwalking = false
                for i = 1, speeds do
                    spawn(function()
                        local hb = game:GetService("RunService").Heartbeat	
                        tpwalking = true
                        local chr = game.Players.LocalPlayer.Character
                        local hum = chr and chr:FindFirstChildWhichIsA("Humanoid")
                        while tpwalking and hb:Wait() and chr and hum and hum.Parent do
                            if hum.MoveDirection.Magnitude > 0 then
                                chr:TranslateBy(hum.MoveDirection)
                            end
                        end
                    end)
                end
            end
        end
    end)

    -- å…³é—­æŒ‰é’®
    closebutton.MouseButton1Click:Connect(function()
        main:Destroy()
    end)

    -- æœ€å°åŒ–æŒ‰é’®
    mini.MouseButton1Click:Connect(function()
        up.Visible = false
        down.Visible = false
        onof.Visible = false
        plus.Visible = false
        speed.Visible = false
        mine.Visible = false
        mini.Visible = false
        mini2.Visible = true
        main.Frame.BackgroundTransparency = 1
        closebutton.Position =  UDim2.new(0, 0, -1, 57)
    end)

    -- æ¢å¤æŒ‰é’®
    mini2.MouseButton1Click:Connect(function()
        up.Visible = true
        down.Visible = true
        onof.Visible = true
        plus.Visible = true
        speed.Visible = true
        mine.Visible = true
        mini.Visible = true
        mini2.Visible = false
        main.Frame.BackgroundTransparency = 0 
        closebutton.Position =  UDim2.new(0, 0, -1, 27)
    end)
    
    return main
end

-- åˆ›å»ºä¸»çª—å£
local Window = WindUI:CreateWindow({
    Title = "å°zé€šç”¨è„šæœ¬ æ­£å¼ç‰ˆ",
    Icon = "rocket",
    Author = "å°zå·¥ä½œå®¤",
    Folder = "å°zè„šæœ¬é…ç½®",
    Size = UDim2.fromOffset(750, 580),
    Theme = "Dark",
    User = {
        Enabled = true,
        Callback = function()
            WindUI:Notify({
                Title = "é…ç½®ä¿å­˜", 
                Content = "ç”¨æˆ·é…ç½®å·²ä¿å­˜", 
                Duration = 1.5,
                Icon = "rbxassetid://84648939157347" -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
            })
        end
    },
    SideBarWidth = 250,
    ScrollBarEnabled = true
})

Window:Tag({
    Title = "æ­£å¼ç‰ˆ v2.8è¿ç§»",
    Color = Color3.fromHex("#FF6B35")
})

-- å…¬å‘Šæ ‡ç­¾é¡µ
local AnnouncementTab = Window:Tab({
    Title = "å…¬å‘Š",
    Icon = "megaphone",
    Locked = false,
    OnCreate = function()
        WindUI:Notify({
            Title = "è„šæœ¬åŠ è½½", 
            Content = "å°zé€šç”¨è„šæœ¬æ­£å¼ç‰ˆå·²å¯åŠ¨", 
            Duration = 2,
            Icon = "rbxassetid://84648939157347" -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
        })
    end
})

-- åˆ›å»ºæ¸å˜æ ‡é¢˜
local gradientText = '<font color="#FF8C69">å°</font><font color="#FF7A5A">z</font><font color="#FF694B">é€š</font><font color="#FF573C">ç”¨</font><font color="#FF462D">è„š</font><font color="#FF351E">æœ¬</font> <font color="#FFD700">æ­£å¼ç‰ˆ</font>'

AnnouncementTab:Paragraph({
    Title = gradientText,
    Image = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
    ImageSize = 24,
    Color = "Grey",
    Buttons = {
        {
            Title = "å¤åˆ¶ä¿¡æ¯",
            Icon = "copy",
            Variant = "Secondary",
            Callback = function()
                local scriptText = "å°zé€šç”¨è„šæœ¬ æ­£å¼ç‰ˆ - åŸºäºå°zé£è½¦æ§åˆ¶v2.8å¼€å‘"
                setclipboard(scriptText)
                WindUI:Notify({
                    Title = "å·²å¤åˆ¶ï¼",
                    Content = "è„šæœ¬ä¿¡æ¯å·²å¤åˆ¶åˆ°å‰ªè´´æ¿",
                    Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
                    Duration = 2
                })
            end
        },
        {
            Title = "éšè—UI",
            Icon = "eye-off",
            Variant = "Tertiary",
            Callback = function()
                Window:Toggle()
                WindUI:Notify({
                    Title = "UIçŠ¶æ€",
                    Content = "UIå·²éšè—/æ˜¾ç¤º",
                    Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
                    Duration = 1.5
                })
            end
        }
    }
})

local AnnouncementSection = AnnouncementTab:Section({ 
    Title = "æ¬¢è¿ä½¿ç”¨å°zé€šç”¨è„šæœ¬",
    TextXAlignment = "Left",
    TextSize = 16
})

-- å…¬å‘Šæ ‡ç­¾é¡µå†…å®¹
AnnouncementTab:Input({
    Title = "è„šæœ¬è¯´æ˜",
    Desc = "åŠŸèƒ½ä»‹ç»",
    Value = "å°zé€šç”¨è„šæœ¬æ­£å¼ç‰ˆåŒ…å«ä»¥ä¸‹ä¸»è¦åŠŸèƒ½ï¼š\n\n1. ç§»åŠ¨æ§åˆ¶ï¼šè°ƒèŠ‚èµ°è·¯é€Ÿåº¦ã€ç§»åŠ¨é€Ÿåº¦ã€è·³è·ƒé«˜åº¦\n2. ç©å®¶ä¼ é€ï¼šä¼ é€åˆ°å…¶ä»–ç©å®¶ã€ç©å®¶å¤´é¡¶ã€åŸºåœ°ã€é«˜ç©º\n3. å°zé£è¡Œï¼šå°zé£è¡Œè„šæœ¬ V3ï¼ˆç‹¬ç«‹UIï¼‰\n4. é«˜çº§åŠŸèƒ½ï¼šç©¿å¢™æ¨¡å¼ã€æ— é™è·³è·ƒã€å¤œè§†æ¨¡å¼ã€é˜²å è½\n5. è„šæœ¬çŠ¶æ€ï¼šå®æ—¶ç›‘æ§è„šæœ¬è¿è¡ŒçŠ¶æ€",
    Type = "Textarea",
    Placeholder = "è„šæœ¬åŠŸèƒ½ä»‹ç»...",
    Callback = function(input) 
        -- åªè¯»å†…å®¹
    end
})

-- ç§»åŠ¨æ§åˆ¶æ ‡ç­¾é¡µ
local MovementTab = Window:Tab({
    Title = "ç§»åŠ¨æ§åˆ¶",
    Icon = "move",
    Locked = false,
    OnCreate = function()
        WindUI:Notify({
            Title = "ç§»åŠ¨æ§åˆ¶", 
            Content = "ç§»åŠ¨æ§åˆ¶åŠŸèƒ½å·²åŠ è½½", 
            Duration = 1,
            Icon = "rbxassetid://84648939157347" -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
        })
    end
})

-- èµ°è·¯é€Ÿåº¦æ§åˆ¶
local WalkSpeedSlider = MovementTab:Slider({
    Title = "èµ°è·¯é€Ÿåº¦",
    Desc = "æ§åˆ¶è§’è‰²è¡Œèµ°é€Ÿåº¦ (1-200)",
    Step = 1,
    Value = {
        Min = 1,
        Max = 200,
        Default = 16,
    },
    Callback = function(value)
        walkSpeed = value
        humanoid.WalkSpeed = value
        WindUI:Notify({
            Title = "ç§»åŠ¨è®¾ç½®",
            Content = "èµ°è·¯é€Ÿåº¦è®¾ç½®ä¸º: " .. value,
            Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
            Duration = 1
        })
    end
})

-- ç§»åŠ¨é€Ÿåº¦æ§åˆ¶
local MoveSpeedSlider = MovementTab:Slider({
    Title = "ç§»åŠ¨é€Ÿåº¦",
    Desc = "æ§åˆ¶è§’è‰²ç§»åŠ¨é€Ÿåº¦ (1-500)",
    Step = 1,
    Value = {
        Min = 1,
        Max = 500,
        Default = 50,
    },
    Callback = function(value)
        moveSpeed = value
        WindUI:Notify({
            Title = "ç§»åŠ¨è®¾ç½®",
            Content = "ç§»åŠ¨é€Ÿåº¦è®¾ç½®ä¸º: " .. value,
            Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
            Duration = 1
        })
    end
})

-- è·³è·ƒé«˜åº¦æ§åˆ¶
local JumpHeightSlider = MovementTab:Slider({
    Title = "è·³è·ƒé«˜åº¦",
    Desc = "æ§åˆ¶è§’è‰²è·³è·ƒé«˜åº¦ (1-200)",
    Step = 1,
    Value = {
        Min = 1,
        Max = 200,
        Default = 50,
    },
    Callback = function(value)
        jumpPower = value
        humanoid.JumpHeight = value
        WindUI:Notify({
            Title = "ç§»åŠ¨è®¾ç½®",
            Content = "è·³è·ƒé«˜åº¦è®¾ç½®ä¸º: " .. value,
            Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
            Duration = 1
        })
    end
})

-- å‚ç›´ç§»åŠ¨æ§åˆ¶
local MovementSection = MovementTab:Section({ 
    Title = "å‚ç›´ç§»åŠ¨æ§åˆ¶",
    TextXAlignment = "Left",
    TextSize = 16,
})

local UpButton = MovementTab:Button({
    Title = "ä¸Šå‡ â†‘",
    Icon = "chevron-up",
    Locked = false,
    Callback = function()
        if character:FindFirstChild("HumanoidRootPart") then
            local currentCFrame = character.HumanoidRootPart.CFrame
            character.HumanoidRootPart.CFrame = currentCFrame + Vector3.new(0, 5, 0)
            WindUI:Notify({
                Title = "å‚ç›´ç§»åŠ¨",
                Content = "å·²å‘ä¸Šç§»åŠ¨5ä¸ªå•ä½",
                Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
                Duration = 1
            })
        end
    end
})

local DownButton = MovementTab:Button({
    Title = "ä¸‹é™ â†“",
    Icon = "chevron-down",
    Locked = false,
    Callback = function()
        if character:FindFirstChild("HumanoidRootPart") then
            local currentCFrame = character.HumanoidRootPart.CFrame
            character.HumanoidRootPart.CFrame = currentCFrame - Vector3.new(0, 5, 0)
            WindUI:Notify({
                Title = "å‚ç›´ç§»åŠ¨",
                Content = "å·²å‘ä¸‹ç§»åŠ¨5ä¸ªå•ä½",
                Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
                Duration = 1
            })
        end
    end
})

-- ç©å®¶ä¼ é€æ ‡ç­¾é¡µ
local TeleportTab = Window:Tab({
    Title = "ç©å®¶ä¼ é€",
    Icon = "users",
    Locked = false,
    OnCreate = function()
        WindUI:Notify({
            Title = "ä¼ é€ç³»ç»Ÿ", 
            Content = "ç©å®¶ä¼ é€åŠŸèƒ½å·²åŠ è½½", 
            Duration = 1,
            Icon = "rbxassetid://84648939157347" -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
        })
    end
})

-- è·å–æ‰€æœ‰ç©å®¶
local function getPlayers()
    local playersList = {}
    for _, player in ipairs(Players:GetPlayers()) do
        if player ~= Players.LocalPlayer then
            table.insert(playersList, player.Name)
        end
    end
    if #playersList == 0 then
        table.insert(playersList, "æ— åœ¨çº¿ç©å®¶")
    end
    return playersList
end

-- ç©å®¶é€‰æ‹©ä¸‹æ‹‰æ¡†
local PlayerDropdown = TeleportTab:Dropdown({
    Title = "é€‰æ‹©ä¼ é€ç›®æ ‡",
    Desc = "é€‰æ‹©è¦ä¼ é€åˆ°çš„ç©å®¶",
    Values = getPlayers(),
    Value = getPlayers()[1],
    Callback = function(selectedPlayer) 
        if selectedPlayer ~= "æ— åœ¨çº¿ç©å®¶" then
            _G.selectedTeleportTarget = selectedPlayer
            WindUI:Notify({
                Title = "ç›®æ ‡é€‰æ‹©",
                Content = "å·²é€‰æ‹©ç©å®¶: " .. selectedPlayer,
                Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
                Duration = 1
            })
        end
    end
})

-- åˆ·æ–°ç©å®¶åˆ—è¡¨æŒ‰é’®
TeleportTab:Button({
    Title = "åˆ·æ–°ç©å®¶åˆ—è¡¨",
    Icon = "refresh-cw",
    Locked = false,
    Callback = function()
        PlayerDropdown:SetValues(getPlayers())
        WindUI:Notify({
            Title = "ç©å®¶åˆ—è¡¨",
            Content = "ç©å®¶åˆ—è¡¨å·²åˆ·æ–°ï¼Œå½“å‰åœ¨çº¿: " .. (#getPlayers() - 1) .. "äºº",
            Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
            Duration = 1.5
        })
    end
})

-- ä¼ é€åŠŸèƒ½
local TeleportSection = TeleportTab:Section({ 
    Title = "ä¼ é€åŠŸèƒ½",
    TextXAlignment = "Left",
    TextSize = 16,
})

-- ä¼ é€åˆ°ç©å®¶
TeleportTab:Button({
    Title = "ä¼ é€åˆ°ç©å®¶",
    Icon = "navigation",
    Locked = false,
    Callback = function()
        local targetPlayer = _G.selectedTeleportTarget
        if targetPlayer and targetPlayer ~= "æ— åœ¨çº¿ç©å®¶" then
            local target = Players:FindFirstChild(targetPlayer)
            if target and target.Character and target.Character:FindFirstChild("HumanoidRootPart") then
                character:SetPrimaryPartCFrame(target.Character.HumanoidRootPart.CFrame)
                WindUI:Notify({
                    Title = "ä¼ é€æˆåŠŸ",
                    Content = "å·²ä¼ é€åˆ°: " .. targetPlayer,
                    Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
                    Duration = 2
                })
            else
                WindUI:Notify({
                    Title = "ä¼ é€å¤±è´¥",
                    Content = "ç›®æ ‡ç©å®¶ä¸åœ¨çº¿æˆ–æ— è§’è‰²",
                    Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
                    Duration = 2
                })
            end
        end
    end
})

-- ä¼ é€åˆ°ç©å®¶å¤´é¡¶
TeleportTab:Button({
    Title = "ä¼ é€åˆ°ç©å®¶å¤´é¡¶",
    Icon = "user-plus",
    Locked = false,
    Callback = function()
        local targetPlayer = _G.selectedTeleportTarget
        if targetPlayer and targetPlayer ~= "æ— åœ¨çº¿ç©å®¶" then
            local target = Players:FindFirstChild(targetPlayer)
            if target and target.Character and target.Character:FindFirstChild("HumanoidRootPart") then
                -- è·å–ç›®æ ‡ç©å®¶çš„ä½ç½®
                local targetPosition = target.Character.HumanoidRootPart.Position
                -- åœ¨ç›®æ ‡ç©å®¶å¤´é¡¶ä¸Šæ–¹10ä¸ªå•ä½çš„ä½ç½®
                local headPosition = targetPosition + Vector3.new(0, 10, 0)
                
                -- ä¼ é€åˆ°ç›®æ ‡ç©å®¶å¤´é¡¶
                character:SetPrimaryPartCFrame(CFrame.new(headPosition))
                
                WindUI:Notify({
                    Title = "ä¼ é€æˆåŠŸ",
                    Content = "å·²ä¼ é€åˆ° " .. targetPlayer .. " çš„å¤´é¡¶",
                    Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
                    Duration = 2
                })
            else
                WindUI:Notify({
                    Title = "ä¼ é€å¤±è´¥",
                    Content = "ç›®æ ‡ç©å®¶ä¸åœ¨çº¿æˆ–æ— è§’è‰²",
                    Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
                    Duration = 2
                })
            end
        end
    end
})

-- ä¼ é€åˆ°åŸºåœ°
TeleportTab:Button({
    Title = "ä¼ é€åˆ°åŸºåœ°",
    Icon = "home",
    Locked = false,
    Callback = function()
        -- æŸ¥æ‰¾åŸºåœ°ä½ç½®
        local spawn = game.Workspace:FindFirstChild("SpawnLocation")
        if spawn then
            character:SetPrimaryPartCFrame(spawn.CFrame)
            WindUI:Notify({
                Title = "ä¼ é€æˆåŠŸ",
                Content = "å·²ä¼ é€åˆ°åŸºåœ°",
                Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
                Duration = 2
            })
        else
            -- å¦‚æœæ²¡æœ‰æ‰¾åˆ°åŸºåœ°ï¼Œä¼ é€åˆ°åœ°å›¾ä¸­å¿ƒ
            local center = Vector3.new(0, 100, 0)
            character:SetPrimaryPartCFrame(CFrame.new(center))
            WindUI:Notify({
                Title = "ä¼ é€æˆåŠŸ",
                Content = "å·²ä¼ é€åˆ°åœ°å›¾ä¸­å¿ƒ",
                Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
                Duration = 2
            })
        end
    end
})

-- ä¼ é€åˆ°é«˜ç©º
TeleportTab:Button({
    Title = "ä¼ é€åˆ°é«˜ç©º",
    Icon = "cloud",
    Locked = false,
    Callback = function()
        if character:FindFirstChild("HumanoidRootPart") then
            local currentCFrame = character.HumanoidRootPart.CFrame
            character.HumanoidRootPart.CFrame = currentCFrame + Vector3.new(0, 500, 0)
            WindUI:Notify({
                Title = "é«˜ç©ºä¼ é€",
                Content = "å·²ä¼ é€åˆ°500å•ä½é«˜ç©º",
                Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
                Duration = 2
            })
        end
    end
})

-- é«˜çº§åŠŸèƒ½æ ‡ç­¾é¡µ
local AdvancedTab = Window:Tab({
    Title = "é«˜çº§åŠŸèƒ½",
    Icon = "zap",
    Locked = false,
    OnCreate = function()
        WindUI:Notify({
            Title = "é«˜çº§åŠŸèƒ½", 
            Content = "é«˜çº§åŠŸèƒ½å·²åŠ è½½", 
            Duration = 1,
            Icon = "rbxassetid://84648939157347" -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
        })
    end
})

-- å°zé£è¡Œè„šæœ¬æŒ‰é’®
local xzFlightEnabled = false
local xzFlightUI

local XzFlightButton = AdvancedTab:Button({
    Title = "å¼€å¯å°zé£è¡Œè„šæœ¬",
    Icon = "wind",
    Locked = false,
    Callback = function()
        if not xzFlightEnabled then
            xzFlightUI = createXzFlightScript()
            xzFlightEnabled = true
            WindUI:Notify({
                Title = "å°zé£è¡Œè„šæœ¬",
                Content = "å°zé£è¡Œè„šæœ¬ V3 å·²å¯åŠ¨\nç‹¬ç«‹UIå·²æ˜¾ç¤ºåœ¨å±å¹•ä¸Š",
                Icon = "rbxassetid://84648939157347",
                Duration = 3
            })
        else
            if xzFlightUI then
                xzFlightUI:Destroy()
                xzFlightUI = nil
            end
            xzFlightEnabled = false
            WindUI:Notify({
                Title = "å°zé£è¡Œè„šæœ¬",
                Content = "å°zé£è¡Œè„šæœ¬å·²å…³é—­",
                Icon = "rbxassetid://84648939157347",
                Duration = 2
            })
        end
    end
})

-- ç©¿å¢™æ¨¡å¼ (NoClip)
local NoClipToggle = AdvancedTab:Toggle({
    Title = "ç©¿å¢™æ¨¡å¼",
    Desc = "æŒ‰Né”®å¿«é€Ÿåˆ‡æ¢ç©¿å¢™æ¨¡å¼",
    Type = "Checkbox",
    Default = false,
    Callback = function(state) 
        noClipEnabled = state
        if character then
            for _, part in ipairs(character:GetDescendants()) do
                if part:IsA("BasePart") then
                    part.CanCollide = not state
                end
            end
        end
        WindUI:Notify({
            Title = "ç©¿å¢™æ¨¡å¼",
            Content = state and "ç©¿å¢™æ¨¡å¼å·²å¯ç”¨" or "ç©¿å¢™æ¨¡å¼å·²ç¦ç”¨",
            Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
            Duration = 2
        })
    end
})

-- æ— é™è·³è·ƒ
local InfiniteJumpToggle = AdvancedTab:Toggle({
    Title = "æ— é™è·³è·ƒ",
    Desc = "åœ¨ç©ºä¸­å¯ä»¥æ— é™æ¬¡è·³è·ƒ",
    Type = "Checkbox",
    Default = false,
    Callback = function(state) 
        _G.infiniteJump = state
        WindUI:Notify({
            Title = "è·³è·ƒè®¾ç½®",
            Content = state and "æ— é™è·³è·ƒå·²å¯ç”¨" or "æ— é™è·³è·ƒå·²ç¦ç”¨",
            Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
            Duration = 2
        })
    end
})

-- æ— é™è·³è·ƒè¿æ¥
local jumpConnection
jumpConnection = UserInputService.JumpRequest:Connect(function()
    if _G.infiniteJump then
        humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
    end
end)

-- å¤œè§†æ¨¡å¼
local NightVisionToggle = AdvancedTab:Toggle({
    Title = "å¤œè§†æ¨¡å¼",
    Desc = "åœ¨é»‘æš—ç¯å¢ƒä¸­å¢å¼ºè§†é‡",
    Type = "Checkbox",
    Default = false,
    Callback = function(state) 
        if state then
            local lighting = game:GetService("Lighting")
            lighting.Brightness = 2
            lighting.OutdoorAmbient = Color3.fromRGB(255, 255, 255)
        else
            local lighting = game:GetService("Lighting")
            lighting.Brightness = 1
            lighting.OutdoorAmbient = Color3.fromRGB(128, 128, 128)
        end
        WindUI:Notify({
            Title = "è§†è§‰æ•ˆæœ",
            Content = state and "å¤œè§†æ¨¡å¼å·²å¯ç”¨" or "å¤œè§†æ¨¡å¼å·²ç¦ç”¨",
            Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
            Duration = 2
        })
    end
})

-- é˜²å è½
local AntiFallToggle = AdvancedTab:Toggle({
    Title = "é˜²å è½",
    Desc = "é˜²æ­¢ä»é«˜å¤„å è½å—ä¼¤",
    Type = "Checkbox",
    Default = false,
    Callback = function(state) 
        if state then
            humanoid:SetStateEnabled(Enum.HumanoidStateType.FallingDown, false)
            humanoid:SetStateEnabled(Enum.HumanoidStateType.Ragdoll, false)
        else
            humanoid:SetStateEnabled(Enum.HumanoidStateType.FallingDown, true)
            humanoid:SetStateEnabled(Enum.HumanoidStateType.Ragdoll, true)
        end
        WindUI:Notify({
            Title = "å®‰å…¨è®¾ç½®",
            Content = state and "é˜²å è½å·²å¯ç”¨" or "é˜²å è½å·²ç¦ç”¨",
            Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
            Duration = 2
        })
    end
})

-- è„šæœ¬çŠ¶æ€æ ‡ç­¾é¡µ
local StatusTab = Window:Tab({
    Title = "è„šæœ¬çŠ¶æ€",
    Icon = "activity",
    Locked = false,
    OnCreate = function()
        WindUI:Notify({
            Title = "çŠ¶æ€ç›‘æ§", 
            Content = "è„šæœ¬çŠ¶æ€ç›‘æ§å·²å¯åŠ¨", 
            Duration = 1,
            Icon = "rbxassetid://84648939157347" -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
        })
    end
})

-- åˆ›å»ºçŠ¶æ€æ˜¾ç¤ºå‡½æ•°
local function updateStatus()
    local xzFlightStatus = xzFlightEnabled and "âœ… å¯ç”¨" or "âŒ ç¦ç”¨"
    local noClipStatus = noClipEnabled and "âœ…" or "âŒ"
    local infiniteJumpStatus = _G.infiniteJump and "âœ…" or "âŒ"
    local nightVisionStatus = NightVisionToggle:GetState() and "âœ…" or "âŒ"
    local antiFallStatus = AntiFallToggle:GetState() and "âœ…" or "âŒ"
    
    local statusText = string.format([[
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   å°zé€šç”¨è„šæœ¬ æ­£å¼ç‰ˆ çŠ¶æ€æŠ¥å‘Š    â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ ğŸ“Š åŸºç¡€çŠ¶æ€ï¼š
â•‘   å°zé£è¡Œ: %s
â•‘   èµ°è·¯é€Ÿåº¦: %d
â•‘   ç§»åŠ¨é€Ÿåº¦: %d
â•‘   è·³è·ƒé«˜åº¦: %d
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ âš¡ é«˜çº§åŠŸèƒ½ï¼š
â•‘   ç©¿å¢™æ¨¡å¼: %s
â•‘   æ— é™è·³è·ƒ: %s
â•‘   å¤œè§†æ¨¡å¼: %s
â•‘   é˜²å è½: %s
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ ğŸ‘¤ ç©å®¶ä¿¡æ¯ï¼š
â•‘   ç©å®¶åç§°: %s
â•‘   è§’è‰²ç”Ÿå‘½: %.1f/%.1f
â•‘   ä½ç½®åæ ‡: %.1f, %.1f, %.1f
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
]],
        xzFlightStatus,
        walkSpeed,
        moveSpeed,
        jumpPower,
        noClipStatus,
        infiniteJumpStatus,
        nightVisionStatus,
        antiFallStatus,
        player.Name,
        humanoid.Health,
        humanoid.MaxHealth,
        character:GetPrimaryPartCFrame().X,
        character:GetPrimaryPartCFrame().Y,
        character:GetPrimaryPartCFrame().Z
    )
    return statusText
end

-- çŠ¶æ€åˆ·æ–°æŒ‰é’®
StatusTab:Button({
    Title = "åˆ·æ–°çŠ¶æ€",
    Icon = "refresh-cw",
    Locked = false,
    Callback = function()
        StatusInput:SetValue(updateStatus())
        WindUI:Notify({
            Title = "çŠ¶æ€æ›´æ–°",
            Content = "è„šæœ¬çŠ¶æ€å·²åˆ·æ–°",
            Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
            Duration = 1
        })
    end
})

-- çŠ¶æ€æ–‡æœ¬æ¡†
local StatusInput = StatusTab:Input({
    Title = "å½“å‰çŠ¶æ€",
    Desc = "å®æ—¶ç›‘æ§è„šæœ¬å„é¡¹åŠŸèƒ½çŠ¶æ€",
    Value = updateStatus(),
    Type = "Textarea",
    Placeholder = "çŠ¶æ€ä¿¡æ¯åŠ è½½ä¸­...",
    Callback = function(input) 
        print("çŠ¶æ€ä¿¡æ¯å·²æŸ¥çœ‹")
    end
})

-- è‡ªåŠ¨æ›´æ–°çŠ¶æ€
spawn(function()
    while true do
        wait(3)
        if StatusInput then
            StatusInput:SetValue(updateStatus())
        end
    end
end)

-- UIå¿«æ·é”®
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if not gameProcessed then
        if input.KeyCode == Enum.KeyCode.RightControl then
            Window:Toggle()
            WindUI:Notify({
                Title = "UIæ§åˆ¶",
                Content = "UIå·²" .. (Window.Visible and "æ˜¾ç¤º" or "éšè—"),
                Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
                Duration = 1
            })
        elseif input.KeyCode == Enum.KeyCode.N then
            NoClipToggle:Toggle()
        end
    end
end)

-- è„šæœ¬åŠ è½½å®Œæˆæç¤º
wait(1)
WindUI:Notify({
    Title = "ğŸ‰ å°zé€šç”¨è„šæœ¬ æ­£å¼ç‰ˆ",
    Content = "è„šæœ¬åŠ è½½å®Œæˆï¼\næŒ‰RightControléšè—/æ˜¾ç¤ºUI\næŒ‰Né”®åˆ‡æ¢ç©¿å¢™æ¨¡å¼\nç‚¹å‡»é«˜çº§åŠŸèƒ½å¼€å¯å°zé£è¡Œè„šæœ¬",
    Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
    Duration = 6
})

-- è§’è‰²é‡ç”Ÿäº‹ä»¶
player.CharacterAdded:Connect(function(newCharacter)
    character = newCharacter
    humanoid = character:WaitForChild("Humanoid")
    
    -- é‡æ–°åº”ç”¨è®¾ç½®
    humanoid.WalkSpeed = walkSpeed
    humanoid.JumpHeight = jumpPower
    
    wait(1)
    WindUI:Notify({
        Title = "è§’è‰²é‡ç”Ÿ",
        Content = "è§’è‰²å·²é‡ç”Ÿï¼Œè®¾ç½®å·²é‡æ–°åº”ç”¨",
        Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
        Duration = 2
    })
end)

-- è„šæœ¬å¸è½½æ—¶æ¸…ç†
game:GetService("CoreGui").ChildRemoved:Connect(function(child)
    if child.Name == "WindUI" then
        -- æ¸…ç†å°zé£è¡Œ
        if xzFlightEnabled and xzFlightUI then
            xzFlightUI:Destroy()
            xzFlightUI = nil
        end
        -- æ¸…ç†æ— é™è·³è·ƒ
        if jumpConnection then
            jumpConnection:Disconnect()
        end
    end
end)
